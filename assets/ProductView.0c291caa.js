import{ad as b,u as x,ac as w,r as p,a as C,k as S,ae as k,o as q,c as B,b as a,w as r,V as h,d as o,h as u,af as d,e as N,ag as R,f as U,i as f,j as V,$}from"./index.3e37aa18.js";import{V as j}from"./VOverlay.cb8f90d0.js";import{V as D,a as F}from"./VTextField.3c4c9b8f.js";const I={class:"text-center"},M=u("h1",null,"\u5DF2\u4E0B\u67B6",-1),z={__name:"ProductView",setup(T){const _=b(),c=x(),v=w(),{editCart:g}=v,i=p(!1),n=p(0),m={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=C({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""});(async()=>{try{const{data:t}=await S.get("/products/"+_.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.description=t.result.description,e.image=t.result.image,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{k.exports.Swal.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),c.go(-1)}})();const y=()=>{!i.value||g({_id:e._id,quantity:parseInt(n.value)})};return(t,s)=>(q(),B("div",null,[a(h,null,{default:r(()=>[a(o,{cols:"12"},{default:r(()=>[u("h1",I,d(e.name),1)]),_:1}),a(N),a(o,{class:"mx-auto",cols:"6"},{default:r(()=>[a(R,{src:e.image},null,8,["src"])]),_:1}),a(o,{cols:"12"},{default:r(()=>[u("p",null,"$"+d(e.price),1),u("p",null,d(e.description),1)]),_:1}),a(o,{cols:"12"},{default:r(()=>[a(D,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=l=>i.value=l),onSubmit:U(y,["prevent"])},{default:r(()=>[a(F,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),modelModifiers:{number:!0},type:"number",label:"\u6578\u91CF",rules:[m.required,m.number]},null,8,["modelValue","rules"]),a(f,{type:"submit",color:"primary"},{default:r(()=>[V("\u52A0\u5165\u8CFC\u7269\u8ECA")]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),a(j,{class:"align-center justify-center text-center","model-value":!e.sell,persistent:""},{default:r(()=>[M,a(f,{onClick:s[2]||(s[2]=l=>$(c).go(-1))},{default:r(()=>[V("\u56DE\u4E0A\u9801")]),_:1})]),_:1},8,["model-value"])]))}};export{z as default};
